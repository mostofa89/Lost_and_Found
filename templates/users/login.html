{% extends "users/base.html" %}

{% block content %}
<div class="min-h-screen py-12 flex items-center justify-center bg-transparent bg-opacity-80 backdrop-blur-md shadow-md rounded-xl">
  <div class="max-w-sm w-full bg-transparent bg-opacity-80 backdrop-blur-md shadow-md p-8 rounded-xl">
    
    <!-- âœ… Messages Section -->
    {% if messages %}
      <div class="message mb-4">
        {% for message in messages %}
          <div class="px-4 py-3 rounded-lg mb-2 
                      {% if message.tags == 'error' %}
                        bg-red-500 text-white
                      {% elif message.tags == 'success' %}
                        bg-green-500 text-white
                      {% elif message.tags == 'warning' %}
                        bg-yellow-500 text-black
                      {% else %}
                        bg-blue-500 text-white
                      {% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
    <!-- âœ… End Messages Section -->

    <div class="flex items-center justify-center">
        <div class="logo text-4xl">ðŸŽ“</div>
    </div>
    <h2 class="text-3xl font-bold text-center mb-6 text-white">Login</h2>
    <form method="POST" class="space-y-4">
      {% csrf_token %}

      <!-- Username -->
      <div>
        <label class="block text-white py-1">Username</label>
        <input type="text" name="username" placeholder="Enter your username" class="w-full px-4 py-3 border border-white rounded-lg bg-transparent text-white placeholder-white focus:ring-2 focus:ring-blue-500 focus:outline-none">
      </div>

      <!-- Password -->
      <div>
        <label class="block text-white py-1">Password</label>
        <input type="password" name="password" placeholder="Enter your password" class="w-full px-4 py-3 border border-white rounded-lg bg-transparent text-white placeholder-white focus:ring-2 focus:ring-blue-500 focus:outline-none">
      </div>

      <!-- Submit Button -->
      <div>
        <button type="submit" class="w-full text-white bg-gradient-to-br from-[#1a73e8] border border-gray-50 rounded-lg px-6 py-3 hover:bg-green-400 transition-colors duration-300">Login</button>
      </div>

      <!-- Extra Links -->
      <div class="text-center mt-4">
        <p class="text-white">Don't have an account? 
          <a href="{% url 'user:register' %}" class="text-cyan-50 hover:font-bold">Register here</a>
        </p>
      </div>
    </form>
  </div>
</div>

  <script>
      setTimeout(() => {
        document.querySelectorAll('.message').forEach(el => {
          el.style.transition = "opacity 0.6s ease";
          el.style.opacity = "0";
          setTimeout(() => el.remove(), 600); // remove fully after fade-out
        });
      }, 5000);
  </script>
{% endblock %}
