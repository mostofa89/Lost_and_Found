{% extends "users/base.html" %}

{% block content %}
<div class="min-h-screen py-12 flex items-center justify-center bg-transparent bg-opacity-80 backdrop-blur-md shadow-md">
  <div class="max-w-2xl w-full bg-transparent bg-opacity-80 backdrop-blur-md shadow-md p-8 rounded-xl">

    <!-- âœ… Messages Section -->
    {% if messages %}
      <div class="mb-4">
        {% for message in messages %}
          <div class="px-4 py-3 rounded-lg mb-2 
                      {% if message.tags == 'error' %}
                        bg-red-500 text-white
                      {% elif message.tags == 'success' %}
                        bg-green-500 text-white
                      {% elif message.tags == 'warning' %}
                        bg-yellow-500 text-black
                      {% else %}
                        bg-blue-500 text-white
                      {% endif %}">
            {{ message }}
          </div>
        {% endfor %}
      </div>
    {% endif %}
    <!-- âœ… End Messages Section -->

    <!-- Logo -->
    <div class="flex items-center justify-center">
      <div class="logo text-5xl">ðŸŽ“</div>
    </div>
    <h2 class="text-3xl font-bold text-center mb-6 text-white">Student Profile</h2>

    <!-- Profile Card -->
    <div class="flex flex-col items-center text-center space-y-4">
      <!-- Profile Picture -->
      <div class="w-32 h-32 rounded-full overflow-hidden border-4 border-blue-500 shadow-lg">
        {% if user.profile.profile_picture %}
          <img src="{{ user.profile.profile_picture.url }}" alt="Profile Picture" class="w-full h-full object-cover">
        {% else %}
                <label for="profile-button" class="cursor-pointer w-full h-full flex items-center justify-center rounded-full bg-gray-800 hover:scale-110 transition duration-300 ease-in-out">
                  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 640" class="w-full h-full object-cover text-zinc-50">
                    <path fill="currentColor" d="M463 448.2C440.9 409.8 399.4 384 352 384L288 384C240.6 384 199.1 409.8 177 448.2C212.2 487.4 263.2 512 320 512C376.8 512 427.8 487.3 463 448.2zM64 320C64 178.6 178.6 64 320 64C461.4 64 576 178.6 576 320C576 461.4 461.4 576 320 576C178.6 576 64 461.4 64 320zM320 336C359.8 336 392 303.8 392 264C392 224.2 359.8 192 320 192C280.2 192 248 224.2 248 264C248 303.8 280.2 336 320 336z"/>
                  </svg>
                </label>

                <!-- Hidden File Input -->
                <input type="file" id="profile-button" class="hidden">
        {% endif %}
      </div>

      <!-- User Info -->
      <div>
        <h3 class="text-2xl font-semibold text-white">{{ user.first_name }} {{ user.last_name }}</h3>
        <p class="text-blue-300">@{{ user.username }}</p>
      </div>

      <!-- Details -->
      <div class="w-full text-left mt-6 space-y-3 text-white">
        <p><span class="font-semibold">Email:</span> {{ user.email }}</p>
        <p><span class="font-semibold">Student ID:</span> {{ user.profile.student_id }}</p>
        <p><span class="font-semibold">Phone:</span> +880{{ user.profile.phone }}</p>
        <p><span class="font-semibold">Department:</span> {{ user.profile.dept }}</p>
      </div>

      <!-- Action Buttons -->
      <div class="flex space-x-4 mt-6">
        <a href="{% url 'user:edit_profile' %}" class="px-6 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition">Edit Profile</a>
        <a href="{% url 'user:logout' %}" class="px-6 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition">Logout</a>
      </div>
    </div>
  </div>
</div>
{% endblock %}
